<h1>All authors</h1>
<table>
  <tr>
    <th>Name</th>
    <th>#Items</th>
    <th colspan="3"></th>
  </tr>

  <% @authors.each do |author| %>
    <tr name="author_<%= author.id %>">
      <td><%= author.name %></td>
      <td>
        <% if can? :list, Item %>
          <%= link_to "#{author.items.count}", list_author_items_path(author), id: "show_items_of_author_#{author.id}" %>
        <% end %>
      </td>
      <td>
        <% if can? :read, author %>
          <%= link_to 'Show', author_path(author), id: "show_author_#{author.id}" %>
        <% end %>
      </td>
      <td>
        <% if can? :update, author %>
          <%= link_to 'Edit', edit_author_path(author), id: "edit_author_#{author.id}" %>
        <% end %>
      </td>
      <td>
        <% if can? :destroy, author %>
          <%= link_to 'Destroy', author_path(author), id: "del_author_#{author.id}", method: :delete, data: { confirm: 'Are you sure?' } %>
        <% end %>
      </td>
    </tr>
  <% end %>
</table>
<p>
  <% if can? :create, Author %>
    <%= link_to 'New author', new_author_path %>
  <% end %>
</p>
